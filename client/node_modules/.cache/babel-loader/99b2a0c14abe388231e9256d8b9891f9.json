{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Desktop/git_project/inspector/client/src/pages/DebtorsPage.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useHttp } from '../hooks/http.hook';\nimport { AuthContext } from '../context/AuthContext';\nimport { Loader } from '../components/Loader';\nimport { DeList } from '../components/PayersList';\nexport const PayersPage = () => {\n  const [payers, setPayers] = useState([]);\n  const {\n    loading,\n    request\n  } = useHttp();\n  const {\n    token\n  } = useContext(AuthContext);\n  const fetchPayers = useCallback(async () => {\n    try {\n      const fetched = await request('/api/payer', 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setPayers(fetched);\n    } catch (e) {}\n  }, [token, request]);\n  useEffect(() => {\n    fetchPayers();\n  }, [fetchPayers]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !loading && /*#__PURE__*/React.createElement(DebtorsList, {\n    payers: payers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 20\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/macbookpro/Desktop/git_project/inspector/client/src/pages/DebtorsPage.js"],"names":["React","useCallback","useContext","useEffect","useState","useHttp","AuthContext","Loader","DeList","PayersPage","payers","setPayers","loading","request","token","fetchPayers","fetched","Authorization","e"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,SAAxC,EAAmDC,QAAnD,QAAkE,OAAlE;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,MAAR,QAAqB,sBAArB;AACA,SAAQC,MAAR,QAAqB,0BAArB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAACQ,IAAAA,OAAD;AAAUC,IAAAA;AAAV,MAAqBR,OAAO,EAAlC;AACA,QAAM;AAACS,IAAAA;AAAD,MAAUZ,UAAU,CAACI,WAAD,CAA1B;AAEA,QAAMS,WAAW,GAAGd,WAAW,CAAC,YAAY;AAC1C,QAAI;AACF,YAAMe,OAAO,GAAG,MAAMH,OAAO,CAAC,YAAD,EAAe,KAAf,EAAsB,IAAtB,EAA4B;AACvDI,QAAAA,aAAa,EAAG,UAASH,KAAM;AADwB,OAA5B,CAA7B;AAGAH,MAAAA,SAAS,CAACK,OAAD,CAAT;AACD,KALD,CAKE,OAAOE,CAAP,EAAU,CAAE;AACf,GAP8B,EAO5B,CAACJ,KAAD,EAAQD,OAAR,CAP4B,CAA/B;AASAV,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,WAAW;AACZ,GAFQ,EAEN,CAACA,WAAD,CAFM,CAAT;;AAIA,MAAIH,OAAJ,EAAa;AACX,wBAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,sBACE,0CACG,CAACA,OAAD,iBAAY,oBAAC,WAAD;AAAa,IAAA,MAAM,EAAEF,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADf,CADF;AAKD,CA3BM","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {AuthContext} from '../context/AuthContext'\nimport {Loader} from '../components/Loader'\nimport {DeList} from '../components/PayersList'\n\nexport const PayersPage = () => {\n  const [payers, setPayers] = useState([])\n  const {loading, request} = useHttp()\n  const {token} = useContext(AuthContext)\n\n  const fetchPayers = useCallback(async () => {\n    try {\n      const fetched = await request('/api/payer', 'GET', null, {\n        Authorization: `Bearer ${token}`\n      })\n      setPayers(fetched)\n    } catch (e) {}\n  }, [token, request])\n\n  useEffect(() => {\n    fetchPayers()\n  }, [fetchPayers])\n\n  if (loading) {\n    return <Loader/>\n  }\n\n  return (\n    <>\n      {!loading && <DebtorsList payers={payers} />}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}