{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Desktop/git_project/inspector/client/src/pages/PayersPage.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useHttp } from '../hooks/http.hook';\nimport { AuthContext } from '../context/AuthContext';\nimport { Loader } from '../components/Loader';\nimport { PayersList } from '../components/PayersList';\nexport const PayersPage = () => {\n  const [links, setLinks] = useState([]);\n  const {\n    loading,\n    request\n  } = useHttp();\n  const {\n    token\n  } = useContext(AuthContext);\n  const fetchLinks = useCallback(async () => {\n    try {\n      const fetched = await request('/api/link', 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setLinks(fetched);\n    } catch (e) {}\n  }, [token, request]);\n  useEffect(() => {\n    fetchPayers();\n  }, [fetchPayers]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !loading && /*#__PURE__*/React.createElement(PayersList, {\n    payers: payers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 20\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/macbookpro/Desktop/git_project/inspector/client/src/pages/PayersPage.js"],"names":["React","useCallback","useContext","useEffect","useState","useHttp","AuthContext","Loader","PayersList","PayersPage","links","setLinks","loading","request","token","fetchLinks","fetched","Authorization","e","fetchPayers","payers"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,SAAxC,EAAmDC,QAAnD,QAAkE,OAAlE;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,MAAR,QAAqB,sBAArB;AACA,SAAQC,UAAR,QAAyB,0BAAzB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAACQ,IAAAA,OAAD;AAAUC,IAAAA;AAAV,MAAqBR,OAAO,EAAlC;AACA,QAAM;AAACS,IAAAA;AAAD,MAAUZ,UAAU,CAACI,WAAD,CAA1B;AAEA,QAAMS,UAAU,GAAGd,WAAW,CAAC,YAAY;AACzC,QAAI;AACF,YAAMe,OAAO,GAAG,MAAMH,OAAO,CAAC,WAAD,EAAc,KAAd,EAAqB,IAArB,EAA2B;AACtDI,QAAAA,aAAa,EAAG,UAASH,KAAM;AADuB,OAA3B,CAA7B;AAGAH,MAAAA,QAAQ,CAACK,OAAD,CAAR;AACD,KALD,CAKE,OAAOE,CAAP,EAAU,CAAE;AACf,GAP6B,EAO3B,CAACJ,KAAD,EAAQD,OAAR,CAP2B,CAA9B;AASAV,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,WAAW;AACZ,GAFQ,EAEN,CAACA,WAAD,CAFM,CAAT;;AAIA,MAAIP,OAAJ,EAAa;AACX,wBAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,sBACE,0CACG,CAACA,OAAD,iBAAY,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADf,CADF;AAKD,CA3BM","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {AuthContext} from '../context/AuthContext'\nimport {Loader} from '../components/Loader'\nimport {PayersList} from '../components/PayersList'\n\nexport const PayersPage = () => {\n  const [links, setLinks] = useState([])\n  const {loading, request} = useHttp()\n  const {token} = useContext(AuthContext)\n\n  const fetchLinks = useCallback(async () => {\n    try {\n      const fetched = await request('/api/link', 'GET', null, {\n        Authorization: `Bearer ${token}`\n      })\n      setLinks(fetched)\n    } catch (e) {}\n  }, [token, request])\n\n  useEffect(() => {\n    fetchPayers()\n  }, [fetchPayers])\n\n  if (loading) {\n    return <Loader/>\n  }\n\n  return (\n    <>\n      {!loading && <PayersList payers={payers} />}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}